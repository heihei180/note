import{_ as l}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as t,d as n,a as i,b as s,o as e}from"./app-qJQc_jDN.js";const h={};function k(p,a){return e(),t("div",null,a[0]||(a[0]=[n(`<h1 id="_1-ktorå¯åŠ¨" tabindex="-1"><a class="header-anchor" href="#_1-ktorå¯åŠ¨"><span>1.Ktorå¯åŠ¨</span></a></h1><p>å† ktor çš„å¯åŠ¨ä¸­ï¼Œå¯åŠ¨å‡½æ•°æ˜¯è¿™ä¹ˆå†™çš„ï¼Ÿ</p><div class="language-ktolin line-numbers-mode" data-highlighter="shiki" data-ext="ktolin" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-ktolin"><span class="line"><span>fun main(args: Array&lt;String&gt;): Unit =</span></span>
<span class="line"><span>    io.ktor.server.netty.EngineMain.main(args)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>å³å¯åŠ¨å‡½æ•°å®é™…å§”æ‰˜æ‰§è¡Œ <code>EngineMain</code>çš„mainå‡½æ•°ã€‚</p><p>å¦å¤–ï¼Œè¿˜éœ€è¦æ³¨æ„çš„æ˜¯ï¼šé…ç½®æ–‡ä»¶ä¸­çš„å†™æ³•ï¼š</p><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-text"><span class="line"><span>ktor {</span></span>
<span class="line"><span>    deployment {</span></span>
<span class="line"><span>        port = 28080</span></span>
<span class="line"><span>        port = \${?PORT}</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    application {</span></span>
<span class="line"><span>        modules = [ io.ktor.samples.H2ApplicationKt.module ]</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸çŸ¥é“å…·ä½“å®ç°ï¼Œä½†æ˜¯ä¼šå›è°ƒ è¿™ä¸ªåœ°æ–¹çš„ä»£ç ï¼š<br> å‡½æ•°çš„å…¨è·¯å¾„ï¼š<br><code> modules = [ io.ktor.samples.H2ApplicationKt.module ]</code></p><h2 id="_2-å‡½æ•°çš„å¯åŠ¨" tabindex="-1"><a class="header-anchor" href="#_2-å‡½æ•°çš„å¯åŠ¨"><span>2. å‡½æ•°çš„å¯åŠ¨</span></a></h2><div class="language-kt line-numbers-mode" data-highlighter="shiki" data-ext="kt" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-kt"><span class="line"></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">    @JvmStatic</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> fun</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> main</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(args: </span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Array</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">String</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        val</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> server </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> createServer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(args)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        server.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">start</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">true</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>åˆ›å»º server</li><li>å¯åŠ¨ server</li></ul><h2 id="_3-åˆ›å»ºserver" tabindex="-1"><a class="header-anchor" href="#_3-åˆ›å»ºserver"><span>3. åˆ›å»ºserver</span></a></h2><p>io.ktor.server.netty.EngineMain#createServer</p><div class="language-kt line-numbers-mode" data-highlighter="shiki" data-ext="kt" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-kt"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> fun</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> createServer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        args: </span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Array</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">String</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    ): </span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">EmbeddedServer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">NettyApplicationEngine</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">NettyApplicationEngine</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Configuration</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt; {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        val</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> config </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> CommandLineConfig</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(args)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        return</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> EmbeddedServer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(config.rootConfig, Netty) {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">            takeFrom</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(config.engineConfig)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">            loadConfiguration</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(config.rootConfig.environment.config)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>typealias ç±»å‹åˆ«å</li><li>suspend Application.() -&gt; Unit å¸¦æ¥æ”¶è€…çš„ suspend lambda</li><li>actual Kotlin å¤šå¹³å°å®ç°æœºåˆ¶</li><li>actual constructor ä¸»æ„é€ å™¨<br> kt é«˜é˜¶ç”¨æ³•ã€‚éœ€è¦ç ”ç©¶æ˜ç™½è¿™äº›è¯­æ³•ã€‚</li></ul><p><code>EmbeddedServer(config.rootConfig, Netty)</code><br> åˆ›å»ºä¸€ä¸ªnetty serverï¼Œå‰é¢æ˜¯ root configï¼Œ ä¸­é—´æ˜¯æœåŠ¡å™¨ç±»å‹ï¼Œæœ€åä¸€ä¸ªå‚æ•°æ˜¯åŠ è½½å‚æ•°ï¼š</p><div class="language-kt line-numbers-mode" data-highlighter="shiki" data-ext="kt" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-kt"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">internal</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> fun</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> NettyApplicationEngine</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Configuration</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">loadConfiguration</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(config: </span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">ApplicationConfig</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        val</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> deploymentConfig </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> config.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">config</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;ktor.deployment&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        loadCommonConfiguration</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(deploymentConfig)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        deploymentConfig.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">propertyOrNull</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;runningLimit&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)?.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">getString</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()?.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">toInt</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()?.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            runningLimit </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> it</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        deploymentConfig.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">propertyOrNull</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;shareWorkGroup&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)?.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">getString</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()?.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">toBoolean</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()?.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            shareWorkGroup </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> it</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        deploymentConfig.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">propertyOrNull</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;responseWriteTimeoutSeconds&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)?.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">getString</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()?.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">toInt</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()?.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            responseWriteTimeoutSeconds </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> it</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        deploymentConfig.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">propertyOrNull</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;requestReadTimeoutSeconds&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)?.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">getString</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()?.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">toInt</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()?.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            requestReadTimeoutSeconds </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> it</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        deploymentConfig.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">propertyOrNull</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;tcpKeepAlive&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)?.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">getString</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()?.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">toBoolean</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()?.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            tcpKeepAlive </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> it</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        deploymentConfig.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">propertyOrNull</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;maxInitialLineLength&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)?.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">getString</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()?.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">toInt</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()?.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            maxInitialLineLength </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> it</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        deploymentConfig.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">propertyOrNull</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;maxHeaderSize&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)?.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">getString</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()?.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">toInt</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()?.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            maxHeaderSize </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> it</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        deploymentConfig.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">propertyOrNull</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;maxChunkSize&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)?.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">getString</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()?.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">toInt</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()?.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            maxChunkSize </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> it</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        deploymentConfig.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">propertyOrNull</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;enableHttp2&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)?.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">getString</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()?.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">toBoolean</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()?.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            enableHttp2 </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> it</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        deploymentConfig.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">propertyOrNull</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;enableH2c&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)?.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">getString</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()?.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">toBoolean</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()?.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            enableH2c </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> it</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™ä¸ªå‡½æ•°ä¼šä» è§£æ application.confä¸­å…³äº ktorçš„é…ç½®ã€‚å¹¶åŠ è½½ã€‚</p><h2 id="_4-å¯åŠ¨-server" tabindex="-1"><a class="header-anchor" href="#_4-å¯åŠ¨-server"><span>4. å¯åŠ¨ server</span></a></h2><div class="language-kt line-numbers-mode" data-highlighter="shiki" data-ext="kt" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-kt"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  server.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">start</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">true</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>io.ktor.server.engine.EmbeddedServer#start</p><div class="language-kt line-numbers-mode" data-highlighter="shiki" data-ext="kt" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-kt"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> actual </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">fun</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> start</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(wait: </span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Boolean</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">): </span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">EmbeddedServer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">TEngine</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">TConfiguration</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt; {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        // æ·»åŠ é’©å­å‡½æ•°</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        addShutdownHook</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">stop</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        // è¯»å†™é” è·å–å†™é”</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        applicationInstanceLock.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">write</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">            val</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (application, classLoader) </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> try</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">                // åˆ›å»ºapplication</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">                createApplication</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            } </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">catch</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (cause: </span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Throwable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">                // é”€æ¯ application</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">                destroyApplication</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">                if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (watchPatterns.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">isNotEmpty</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()) {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">                    cleanupWatcher</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">                }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">                throw</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> cause</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            applicationInstance </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> application</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            applicationClassLoader </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> classLoader</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        //  ç¬¬ä¸‰æ­¥ï¼šå¼‚æ­¥æ‰“å°æœåŠ¡å™¨ç›‘å¬åœ°å€</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        CoroutineScope</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(application.coroutineContext).</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">launch</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            engine.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">resolvedConnectors</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">().</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">forEach</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">                val</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> host </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> escapeHostname</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(it.host)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">                environment.log.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">info</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">                    &quot;Responding at </span><span style="--shiki-light:#50A14F;--shiki-dark:#C678DD;">\${</span><span style="--shiki-light:#50A14F;--shiki-dark:#ABB2BF;">it.type.name.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">lowercase</span><span style="--shiki-light:#50A14F;--shiki-dark:#ABB2BF;">()</span><span style="--shiki-light:#50A14F;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">://</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$host</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#C678DD;">\${</span><span style="--shiki-light:#50A14F;--shiki-dark:#ABB2BF;">it.port</span><span style="--shiki-light:#50A14F;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">                )</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        engine.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">start</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(wait)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        return</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> this</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,21),i("ol",null,[i("li",{"css-module":"."},[s("applicationInstanceLock.write "),i("ol",null,[i("li",null,"ä½¿ç”¨ ReentrantReadWriteLock çš„å†™é”ï¼Œç¡®ä¿å¤šçº¿ç¨‹ç¯å¢ƒä¸‹å®‰å…¨åœ°åˆå§‹åŒ–/é‡å»ºåº”ç”¨å®ä¾‹ï¼ˆå°¤å…¶åœ¨å¼€å‘æ¨¡å¼ä¸‹çƒ­é‡è½½æ—¶ï¼‰ã€‚")])]),i("li",null,[s("createApplication() "),i("ol",null,[i("li",null,"åˆ›å»º Application å¯¹è±¡ï¼ˆKtor åº”ç”¨çš„æ ¸å¿ƒä¸Šä¸‹æ–‡ï¼‰ã€‚"),i("li",null,"åœ¨å¼€å‘æ¨¡å¼ä¸‹ï¼Œè¿˜ä¼šè®¾ç½®è‡ªå®šä¹‰ç±»åŠ è½½å™¨ï¼ˆOverridingClassLoaderï¼‰ï¼Œç”¨äºç›‘å¬ä»£ç å˜æ›´å¹¶çƒ­é‡è½½ã€‚")])]),i("li",null,[s("å¼‚å¸¸å¤„ç† "),i("ol",null,[i("li",null,"å¦‚æœåˆ›å»ºå¤±è´¥ï¼ˆå¦‚æ¨¡å—åŠ è½½é”™è¯¯ï¼‰ï¼Œå…ˆæ¸…ç†å·²åˆ†é…çš„èµ„æºï¼ˆdestroyApplication()ã€cleanupWatcher()ï¼‰ï¼Œå†æŠ›å‡ºå¼‚å¸¸"),i("li",null,"é¿å…â€œåŠå¯åŠ¨â€çŠ¶æ€å¯¼è‡´èµ„æºæ³„æ¼ã€‚")])]),i("li",null,[s("ä¿å­˜å®ä¾‹ "),i("ol",null,[i("li",null,"å°†æ–°åˆ›å»ºçš„ application å’Œ classLoader å­˜å…¥æˆå‘˜å˜é‡ï¼Œä¾›åç»­è¯·æ±‚ä½¿ç”¨ã€‚")])])],-1),n('<p><strong>ç¬¬ä¸‰æ­¥ï¼šå¼‚æ­¥æ‰“å°æœåŠ¡å™¨ç›‘å¬åœ°å€</strong></p><ol><li>ä¸ºä»€ä¹ˆç”¨ launchï¼Ÿ</li></ol><ul><li>engine.start(wait) å¯èƒ½ä¼šé˜»å¡ï¼ˆå½“ wait=trueï¼‰ï¼Œä½†æˆ‘ä»¬å¸Œæœ›å°½å¿«æ‰“å°æ—¥å¿—ï¼Œæ‰€ä»¥ç”¨åç¨‹å¼‚æ­¥æ‰§è¡Œã€‚</li><li>å³ä½¿ä¸»çº¿ç¨‹è¢« engine.start(true) é˜»å¡ï¼Œæ—¥å¿—ä¹Ÿèƒ½åŠæ—¶è¾“å‡ºã€‚</li></ul><ol start="2"><li>resolvedConnectors() <ol><li>è·å–æœåŠ¡å™¨å®é™…ç»‘å®šçš„åè®®ï¼ˆHTTP/HTTPSï¼‰ã€ä¸»æœºå’Œç«¯å£ã€‚</li><li>ä¾‹å¦‚ï¼š[Connector(HTTP, &quot;0.0.0.0&quot;, 8080)]</li></ol></li></ol><p><strong>ç¬¬å››æ­¥ï¼šå¯åŠ¨åº•å±‚å¼•æ“</strong></p><div class="language-kotlin line-numbers-mode" data-highlighter="shiki" data-ext="kotlin" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-kotlin"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ç¬¬å››æ­¥ï¼šå¯åŠ¨åº•å±‚å¼•æ“</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>è°ƒç”¨å…·ä½“å¼•æ“ï¼ˆå¦‚ Nettyã€Tomcatï¼‰çš„ start æ–¹æ³•ã€‚</li><li>è¡Œä¸ºå–å†³äº wait å‚æ•°ï¼š <ul><li>wait = trueï¼šé˜»å¡å½“å‰çº¿ç¨‹ï¼Œç›´åˆ°æœåŠ¡å™¨åœæ­¢ï¼ˆé€šå¸¸ç”¨äºä¸»å‡½æ•°ï¼‰ã€‚</li><li>wait = falseï¼šå¯åŠ¨åç«‹å³è¿”å›ï¼ŒæœåŠ¡å™¨åœ¨åå°çº¿ç¨‹è¿è¡Œã€‚</li></ul></li></ul><h3 id="ğŸ§ -æ•´ä½“æµç¨‹æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#ğŸ§ -æ•´ä½“æµç¨‹æ€»ç»“"><span>ğŸ§  æ•´ä½“æµç¨‹æ€»ç»“</span></a></h3><table><thead><tr><th>æ­¥éª¤</th><th>åŠ¨ä½œ</th><th>ç›®çš„</th></tr></thead><tbody><tr><td>1</td><td>æ³¨å†Œå…³é—­é’©å­</td><td>ç¡®ä¿ JVM é€€å‡ºæ—¶ä¼˜é›…å…³é—­æœåŠ¡å™¨</td></tr><tr><td>2</td><td>åŠ é”åˆ›å»º <code>Application</code></td><td>å®‰å…¨åˆå§‹åŒ–åº”ç”¨ä¸Šä¸‹æ–‡ï¼ˆæ”¯æŒçƒ­é‡è½½ï¼‰</td></tr><tr><td>3</td><td>å¼‚æ­¥æ‰“å°ç›‘å¬åœ°å€</td><td>å¿«é€Ÿåé¦ˆæœåŠ¡å™¨å¯åŠ¨ä¿¡æ¯</td></tr><tr><td>4</td><td>å¯åŠ¨åº•å±‚å¼•æ“</td><td>çœŸæ­£å¼€å§‹ç›‘å¬ HTTP è¯·æ±‚</td></tr><tr><td>5</td><td>è¿”å› <code>this</code></td><td>æ”¯æŒé“¾å¼è°ƒç”¨</td></tr></tbody></table>',9)]))}const A=l(h,[["render",k]]),B=JSON.parse('{"path":"/Kotlin/Ktor/1.ktor%E5%90%AF%E5%8A%A8.html","title":"1.Ktorå¯åŠ¨","lang":"zh-CN","frontmatter":{"description":"1.Ktorå¯åŠ¨ å† ktor çš„å¯åŠ¨ä¸­ï¼Œå¯åŠ¨å‡½æ•°æ˜¯è¿™ä¹ˆå†™çš„ï¼Ÿ å³å¯åŠ¨å‡½æ•°å®é™…å§”æ‰˜æ‰§è¡Œ EngineMainçš„mainå‡½æ•°ã€‚ å¦å¤–ï¼Œè¿˜éœ€è¦æ³¨æ„çš„æ˜¯ï¼šé…ç½®æ–‡ä»¶ä¸­çš„å†™æ³•ï¼š ä¸çŸ¥é“å…·ä½“å®ç°ï¼Œä½†æ˜¯ä¼šå›è°ƒ è¿™ä¸ªåœ°æ–¹çš„ä»£ç ï¼š å‡½æ•°çš„å…¨è·¯å¾„ï¼š modules = [ io.ktor.samples.H2ApplicationKt.module ] 2. å‡½æ•°çš„å¯åŠ¨ ...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"1.Ktorå¯åŠ¨\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2026-01-07T08:01:01.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"heihei180\\",\\"url\\":\\"https://github.com/heihei180\\"}]}"],["meta",{"property":"og:url","content":"https://vuepress-theme-hope-docs-demo.netlify.app/note/Kotlin/Ktor/1.ktor%E5%90%AF%E5%8A%A8.html"}],["meta",{"property":"og:site_name","content":"ç­†è¨˜æœ¬é¦–é "}],["meta",{"property":"og:title","content":"1.Ktorå¯åŠ¨"}],["meta",{"property":"og:description","content":"1.Ktorå¯åŠ¨ å† ktor çš„å¯åŠ¨ä¸­ï¼Œå¯åŠ¨å‡½æ•°æ˜¯è¿™ä¹ˆå†™çš„ï¼Ÿ å³å¯åŠ¨å‡½æ•°å®é™…å§”æ‰˜æ‰§è¡Œ EngineMainçš„mainå‡½æ•°ã€‚ å¦å¤–ï¼Œè¿˜éœ€è¦æ³¨æ„çš„æ˜¯ï¼šé…ç½®æ–‡ä»¶ä¸­çš„å†™æ³•ï¼š ä¸çŸ¥é“å…·ä½“å®ç°ï¼Œä½†æ˜¯ä¼šå›è°ƒ è¿™ä¸ªåœ°æ–¹çš„ä»£ç ï¼š å‡½æ•°çš„å…¨è·¯å¾„ï¼š modules = [ io.ktor.samples.H2ApplicationKt.module ] 2. å‡½æ•°çš„å¯åŠ¨ ..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2026-01-07T08:01:01.000Z"}],["meta",{"property":"article:modified_time","content":"2026-01-07T08:01:01.000Z"}]]},"git":{"createdTime":1767772861000,"updatedTime":1767772861000,"contributors":[{"name":"wanggq10","username":"wanggq10","email":"wanggq10@lenovo.com","commits":1,"url":"https://github.com/wanggq10"}]},"readingTime":{"minutes":2.9,"words":871},"filePathRelative":"Kotlin/Ktor/1.ktorå¯åŠ¨.md","autoDesc":true}');export{A as comp,B as data};
