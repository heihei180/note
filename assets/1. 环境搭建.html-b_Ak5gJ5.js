import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,d as n,o as e}from"./app-SX6-RPZM.js";const l={};function t(h,s){return e(),a("div",null,s[0]||(s[0]=[n(`<h1 id="_1-开发环境搭建" tabindex="-1"><a class="header-anchor" href="#_1-开发环境搭建"><span>1. 开发环境搭建</span></a></h1><blockquote><p>Windows 10 环境 IDEA 搭建 <code>skywalking</code> 服务端的源码调试环境。</p></blockquote><p>参考文档：</p><p><a href="https://github.com/apache/skywalking/blob/master/docs/en/guides/How-to-build.md" target="_blank" rel="noopener noreferrer">官方文档-GitHub</a></p><h2 id="下载构建" tabindex="-1"><a class="header-anchor" href="#下载构建"><span>下载构建</span></a></h2><h3 id="下载" tabindex="-1"><a class="header-anchor" href="#下载"><span>下载</span></a></h3><p><strong>Prepare JDK 17 or 21.</strong></p><ul><li>注意不可以使用Java8来构建</li></ul><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell"><span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> clone</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --recurse-submodules</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://github.com/apache/skywalking.git</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> skywalking/</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># windows 直接使用本地mvn</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mvn</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> clean</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> package</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -Dmaven.test.skip</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="构建" tabindex="-1"><a class="header-anchor" href="#构建"><span>构建</span></a></h3><ul><li>构建 sw server</li></ul><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mvn</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> clean</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> compile</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -Dmaven.test.skip=true</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="说明" tabindex="-1"><a class="header-anchor" href="#说明"><span>说明</span></a></h2><p>下载后，编译之后，根据官方文档描述，需要将部分的<code>proto</code> 文件的生成路径加入到源码</p><ul><li>ref: Setting up your IntelliJ IDEA<br> NOTE: If you clone the codes from GitHub, please make sure that you have finished steps 1 to 3 in section Build from GitHub. If you download the source codes from the official website of SkyWalking, please make sure that you have followed the steps in section Build from Apache source code release.</li></ul><ol><li>Import the project as a maven project.</li><li>Run <code>./mvnw compile -Dmaven.test.skip=true</code> to compile project and generate source codes. The reason is that we use gRPC and protobuf.</li><li>Set Generated Source Codes folders.</li><li>以下路径的文件夹，需要加入IDEA的源码路径，右键 <code>mark as source</code>即可 <ul><li><code>grpc-java</code> and <code>java</code> folders in apm-protocol/apm-network/target/generated-sources/protobuf</li><li><code>grpc-java</code> and <code>java</code> folders in oap-server/server-core/target/generated-sources/protobuf</li><li><code>grpc-java</code> and <code>java</code> folders in oap-server/server-receiver-plugin/receiver-proto/target/generated-sources/fbs</li><li><code>grpc-java</code> and <code>java</code> folders in oap-server/server-receiver-plugin/receiver-proto/target/generated-sources/protobuf</li><li><code>grpc-java</code> and <code>java</code> folders in oap-server/exporter/target/generated-sources/protobuf</li><li><code>grpc-java</code> and <code>java</code> folders in oap-server/server-configuration/grpc-configuration-sync/target/generated-sources/protobuf</li><li><code>grpc-java</code> and <code>java</code> folders in oap-server/server-alarm-plugin/target/generated-sources/protobuf</li><li><code>grpc-java</code> and <code>java</code> folders in oap-server/server-fetcher-plugin/fetcher-proto/target/generated-sources/protobuf</li><li><code>antlr4</code> folder in oap-server/oal-grammar/target/generated-sources</li></ul></li></ol><h2 id="启动" tabindex="-1"><a class="header-anchor" href="#启动"><span>启动</span></a></h2><p>根据sky walking 提供的启动脚本观察，需要启动两个服务，并且还有启动参数：</p><p>共两个类：</p><ul><li><code>org.apache.skywalking.oap.server.webapp.ApplicationStartUp</code><br> 添加VM启动参数： <code>-Xms256M -Xmx512M -Doap.logDir=D:\\code\\github\\skywalking-server\\skywalking\\logs\\logs</code></li><li><code>org.apache.skywalking.oap.server.starter.OAPServerStartUp</code></li></ul><p>注意再启动OAPserver 之前先修改配置文件<code>oap-server/server-starter/src/main/resources/application.yml</code></p><p>将里边的<code>storage.selector</code> 改成es， 因为windows 环境无法安装默认的banyanDB, 当然可选的存储还有mysql, pgsql...</p><h2 id="elasticsearch-安装与启动" tabindex="-1"><a class="header-anchor" href="#elasticsearch-安装与启动"><span>Elasticsearch 安装与启动</span></a></h2><blockquote><p>提示，es 新版本不知道如何启动，我下载的es7.3，ES 7.3 需要通过Java8来启动，而sky walking是 JDK17 或者 jdk 21， 所以，需要修改es的启动脚本。</p></blockquote><p>下载地址：<a href="https://www.elastic.co/downloads/past-releases/elasticsearch-7-3-0" target="_blank" rel="noopener noreferrer">https://www.elastic.co/downloads/past-releases/elasticsearch-7-3-0</a></p><ul><li>找到jdk8的路径，比如我这里是： <code>D:\\soft\\jdks\\jdk1.8.0_422\\bin\\java.exe</code><br> 打开<code>elasticsearch.bat</code> 文件，将里边的 <code>%JAVA_HOME%</code> 全部替换成 <code>D:\\soft\\jdks\\jdk1.8.0_422\\bin\\java.exe</code> 即可。</li></ul><p>这个修改，代表的是不读取系统的Java环境变量，使用的是我们自己定义的Java程序。</p><ul><li>修改后的部分代码示例：</li></ul><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">@echo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> off</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">setlocal</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> enabledelayedexpansion</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">setlocal</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> enableextensions</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">SET</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> params=&#39;%*&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">:loop</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">FOR</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /F</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;usebackq tokens=1* delims= &quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> %%A</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> IN</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (!params!) DO (</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    SET</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> current=%%A</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    SET</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> params=&#39;%%B&#39;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">	SET</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> silent=N</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">	IF</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;!current!&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ==</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;-s&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">		SET</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> silent=Y</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">	IF</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;!current!&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ==</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;--silent&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">		SET</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> silent=Y</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">	IF</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;!silent!&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ==</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;Y&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">		SET</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nopauseonerror=Y</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	) ELSE (</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">	    IF</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;x!newparams!&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> NEQ</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;x&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">	        SET</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> newparams=!newparams!</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> !current!</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        ) ELSE (</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">            SET</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> newparams=!current!</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        )</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    IF</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;x!params!&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> NEQ</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;x&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">		GOTO</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> loop</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">CALL</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;%~dp0elasticsearch-env.bat&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> || </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">exit</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /b</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">IF</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ERRORLEVEL</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">	IF</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> NOT</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> DEFINED</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nopauseonerror</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">		PAUSE</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">	EXIT</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /B</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> %ERRORLEVEL%</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">if</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> not</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> defined</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ES_TMPDIR</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  for</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /f </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;tokens=* usebackq&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> %%a in (</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">\`</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">CALL</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> D:</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\\s</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">oft</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\\j</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">dks</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\\j</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">dk1.8.0_422</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\\b</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">in</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\\j</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">ava.exe </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">-cp</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;!ES_CLASSPATH!&quot; &quot;org.elasticsearch.tools.launchers.TempDirectory&quot;\`</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">do</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> set  ES_TMPDIR=%%a</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">set</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ES_JVM_OPTIONS=%ES_PATH_CONF%</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\\j</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">vm.options</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">@setlocal</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /F </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;usebackq delims=&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> %%a in (</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">\`</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">CALL</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> D:</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\\s</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">oft</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\\j</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">dks</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\\j</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">dk1.8.0_422</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\\b</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">in</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\\j</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">ava.exe </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">-cp</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;!ES_CLASSPATH!&quot; &quot;org.elasticsearch.tools.launchers.JvmOptionsParser&quot; &quot;!ES_JVM_OPTIONS!&quot; ^</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">^</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> echo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> jvm_options_parser_failed\`</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">do</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> set JVM_OPTIONS=%%a</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">@endlocal</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &amp; </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">set</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;MAYBE_JVM_OPTIONS_PARSER_FAILED=%JVM_OPTIONS%&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &amp; </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">set</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ES_JAVA_OPTS=%JVM_OPTIONS:</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">\${</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">ES_TMPDIR</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">}</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">=!ES_TMPDIR!%</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">if</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> &quot;%MAYBE_JVM_OPTIONS_PARSER_FAILED%&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ==</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;jvm_options_parser_failed&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">  exit</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /b</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">D:\\soft\\jdks\\jdk1.8.0_422\\bin\\java.exe</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> %ES_JAVA_OPTS%</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -Delasticsearch</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -Des.path.home=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;%ES_HOME%&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -Des.path.conf=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;%ES_PATH_CONF%&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -Des.distribution.flavor=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;%ES_DISTRIBUTION_FLAVOR%&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -Des.distribution.type=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;%ES_DISTRIBUTION_TYPE%&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -Des.bundled_jdk=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;%ES_BUNDLED_JDK%&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -cp</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;%ES_CLASSPATH%&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;org.elasticsearch.bootstrap.Elasticsearch&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> !newparams!</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">endlocal</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">endlocal</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">exit</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /b</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> %ERRORLEVEL%</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后，正常启动ES即可，访问： <a href="http://localhost:9200/" target="_blank" rel="noopener noreferrer">http://localhost:9200/</a></p><h2 id="测试sw" tabindex="-1"><a class="header-anchor" href="#测试sw"><span>测试SW</span></a></h2><p>访问：<a href="http://localhost:8080/" target="_blank" rel="noopener noreferrer">http://localhost:8080/</a></p>`,32)]))}const r=i(l,[["render",t]]),d=JSON.parse('{"path":"/Java/skywalking/skywaling-server/1.%20%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA.html","title":"1. 开发环境搭建","lang":"zh-CN","frontmatter":{"description":"1. 开发环境搭建 Windows 10 环境 IDEA 搭建 skywalking 服务端的源码调试环境。 参考文档： 官方文档-GitHub 下载构建 下载 Prepare JDK 17 or 21. 注意不可以使用Java8来构建 构建 构建 sw server 说明 下载后，编译之后，根据官方文档描述，需要将部分的proto 文件的生成路径加入...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"1. 开发环境搭建\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-08-04T07:01:30.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"heihei180\\",\\"url\\":\\"https://github.com/heihei180\\"}]}"],["meta",{"property":"og:url","content":"https://vuepress-theme-hope-docs-demo.netlify.app/note/Java/skywalking/skywaling-server/1.%20%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA.html"}],["meta",{"property":"og:site_name","content":"筆記本首頁"}],["meta",{"property":"og:title","content":"1. 开发环境搭建"}],["meta",{"property":"og:description","content":"1. 开发环境搭建 Windows 10 环境 IDEA 搭建 skywalking 服务端的源码调试环境。 参考文档： 官方文档-GitHub 下载构建 下载 Prepare JDK 17 or 21. 注意不可以使用Java8来构建 构建 构建 sw server 说明 下载后，编译之后，根据官方文档描述，需要将部分的proto 文件的生成路径加入..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-08-04T07:01:30.000Z"}],["meta",{"property":"article:modified_time","content":"2025-08-04T07:01:30.000Z"}]]},"git":{"createdTime":1754290890000,"updatedTime":1754290890000,"contributors":[{"name":"wanggq10","username":"wanggq10","email":"wanggq10@lenovo.com","commits":1,"url":"https://github.com/wanggq10"}]},"readingTime":{"minutes":2.67,"words":800},"filePathRelative":"Java/skywalking/skywaling-server/1. 环境搭建.md","autoDesc":true}');export{r as comp,d as data};
