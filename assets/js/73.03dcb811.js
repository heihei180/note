(window.webpackJsonp=window.webpackJsonp||[]).push([[73],{387:function(s,a,t){"use strict";t.r(a);var e=t(25),r=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"_1-开发环境搭建"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-开发环境搭建"}},[s._v("#")]),s._v(" 1. 开发环境搭建")]),s._v(" "),a("blockquote",[a("p",[s._v("Windows 10 环境 IDEA 搭建 "),a("code",[s._v("skywalking")]),s._v(" 服务端的源码调试环境。")])]),s._v(" "),a("p",[s._v("参考文档：")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/apache/skywalking/blob/master/docs/en/guides/How-to-build.md",target:"_blank",rel:"noopener noreferrer"}},[s._v("官方文档-GitHub"),a("OutboundLink")],1)]),s._v(" "),a("h2",{attrs:{id:"下载构建"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#下载构建"}},[s._v("#")]),s._v(" 下载构建")]),s._v(" "),a("h3",{attrs:{id:"下载"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#下载"}},[s._v("#")]),s._v(" 下载")]),s._v(" "),a("p",[a("strong",[s._v("Prepare JDK 17 or 21.")])]),s._v(" "),a("ul",[a("li",[s._v("注意不可以使用Java8来构建")])]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" clone --recurse-submodules https://github.com/apache/skywalking.git\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" skywalking/\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# windows 直接使用本地mvn")]),s._v("\nmvn clean package "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Dmaven.test.skip")]),s._v("\n")])])]),a("h3",{attrs:{id:"构建"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#构建"}},[s._v("#")]),s._v(" 构建")]),s._v(" "),a("ul",[a("li",[s._v("构建 sw server")])]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("mvn clean compile "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Dmaven.test.skip")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("true\n")])])]),a("h2",{attrs:{id:"说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#说明"}},[s._v("#")]),s._v(" 说明")]),s._v(" "),a("p",[s._v("下载后，编译之后，根据官方文档描述，需要将部分的"),a("code",[s._v("proto")]),s._v(" 文件的生成路径加入到源码")]),s._v(" "),a("ul",[a("li",[s._v("ref: Setting up your IntelliJ IDEA\nNOTE: If you clone the codes from GitHub, please make sure that you have finished steps 1 to 3 in section Build from GitHub. If you download the source codes from the official website of SkyWalking, please make sure that you have followed the steps in section Build from Apache source code release.")])]),s._v(" "),a("ol",[a("li",[s._v("Import the project as a maven project.")]),s._v(" "),a("li",[s._v("Run "),a("code",[s._v("./mvnw compile -Dmaven.test.skip=true")]),s._v(" to compile project and generate source codes. The reason is that we use gRPC and protobuf.")]),s._v(" "),a("li",[s._v("Set Generated Source Codes folders.")]),s._v(" "),a("li",[s._v("以下路径的文件夹，需要加入IDEA的源码路径，右键 "),a("code",[s._v("mark as source")]),s._v("即可\n"),a("ul",[a("li",[a("code",[s._v("grpc-java")]),s._v(" and "),a("code",[s._v("java")]),s._v(" folders in apm-protocol/apm-network/target/generated-sources/protobuf")]),s._v(" "),a("li",[a("code",[s._v("grpc-java")]),s._v(" and "),a("code",[s._v("java")]),s._v(" folders in oap-server/server-core/target/generated-sources/protobuf")]),s._v(" "),a("li",[a("code",[s._v("grpc-java")]),s._v(" and "),a("code",[s._v("java")]),s._v(" folders in oap-server/server-receiver-plugin/receiver-proto/target/generated-sources/fbs")]),s._v(" "),a("li",[a("code",[s._v("grpc-java")]),s._v(" and "),a("code",[s._v("java")]),s._v(" folders in oap-server/server-receiver-plugin/receiver-proto/target/generated-sources/protobuf")]),s._v(" "),a("li",[a("code",[s._v("grpc-java")]),s._v(" and "),a("code",[s._v("java")]),s._v(" folders in oap-server/exporter/target/generated-sources/protobuf")]),s._v(" "),a("li",[a("code",[s._v("grpc-java")]),s._v(" and "),a("code",[s._v("java")]),s._v(" folders in oap-server/server-configuration/grpc-configuration-sync/target/generated-sources/protobuf")]),s._v(" "),a("li",[a("code",[s._v("grpc-java")]),s._v(" and "),a("code",[s._v("java")]),s._v(" folders in oap-server/server-alarm-plugin/target/generated-sources/protobuf")]),s._v(" "),a("li",[a("code",[s._v("grpc-java")]),s._v(" and "),a("code",[s._v("java")]),s._v(" folders in oap-server/server-fetcher-plugin/fetcher-proto/target/generated-sources/protobuf")]),s._v(" "),a("li",[a("code",[s._v("antlr4")]),s._v(" folder in oap-server/oal-grammar/target/generated-sources")])])])]),s._v(" "),a("h2",{attrs:{id:"启动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#启动"}},[s._v("#")]),s._v(" 启动")]),s._v(" "),a("p",[s._v("根据sky walking 提供的启动脚本观察，需要启动两个服务，并且还有启动参数：")]),s._v(" "),a("p",[s._v("共两个类：")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("org.apache.skywalking.oap.server.webapp.ApplicationStartUp")]),s._v("\n添加VM启动参数： "),a("code",[s._v("-Xms256M -Xmx512M -Doap.logDir=D:\\code\\github\\skywalking-server\\skywalking\\logs\\logs")])]),s._v(" "),a("li",[a("code",[s._v("org.apache.skywalking.oap.server.starter.OAPServerStartUp")])])]),s._v(" "),a("p",[s._v("注意再启动OAPserver 之前先修改配置文件"),a("code",[s._v("oap-server/server-starter/src/main/resources/application.yml")])]),s._v(" "),a("p",[s._v("将里边的"),a("code",[s._v("storage.selector")]),s._v(" 改成es， 因为windows 环境无法安装默认的banyanDB, 当然可选的存储还有mysql, pgsql...")]),s._v(" "),a("h2",{attrs:{id:"elasticsearch-安装与启动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#elasticsearch-安装与启动"}},[s._v("#")]),s._v(" Elasticsearch 安装与启动")]),s._v(" "),a("blockquote",[a("p",[s._v("提示，es 新版本不知道如何启动，我下载的es7.3，ES 7.3 需要通过Java8来启动，而sky walking是 JDK17 或者 jdk 21， 所以，需要修改es的启动脚本。")])]),s._v(" "),a("p",[s._v("下载地址：https://www.elastic.co/downloads/past-releases/elasticsearch-7-3-0")]),s._v(" "),a("ul",[a("li",[s._v("找到jdk8的路径，比如我这里是： "),a("code",[s._v("D:\\soft\\jdks\\jdk1.8.0_422\\bin\\java.exe")]),s._v("\n打开"),a("code",[s._v("elasticsearch.bat")]),s._v(" 文件，将里边的 "),a("code",[s._v("%JAVA_HOME%")]),s._v(" 全部替换成 "),a("code",[s._v("D:\\soft\\jdks\\jdk1.8.0_422\\bin\\java.exe")]),s._v(" 即可。")])]),s._v(" "),a("p",[s._v("这个修改，代表的是不读取系统的Java环境变量，使用的是我们自己定义的Java程序。")]),s._v(" "),a("ul",[a("li",[s._v("修改后的部分代码示例：")])]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("@echo off\n\nsetlocal enabledelayedexpansion\nsetlocal enableextensions\n\nSET "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("params")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%*'")]),s._v("\n\n:loop\nFOR /F "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"usebackq tokens=1* delims= "')]),s._v(" %%A IN "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("params"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" DO "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n    SET "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("current")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("%%A\n    SET "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("params")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%%B'")]),s._v("\n\tSET "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("silent")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("N\n\n\tIF "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"!current!"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"-s"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n\t\tSET "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("silent")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Y\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\tIF "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"!current!"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"--silent"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n\t\tSET "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("silent")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Y\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n\tIF "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"!silent!"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Y"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n\t\tSET "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("nopauseonerror")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Y\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" ELSE "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n\t    IF "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"x!newparams!"')]),s._v(" NEQ "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"x"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n\t        SET "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("newparams")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("newparams"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("current"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" ELSE "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n            SET "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("newparams")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("current"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n    IF "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"x!params!"')]),s._v(" NEQ "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"x"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n\t\tGOTO loop\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nCALL "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"%~dp0elasticsearch-env.bat"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v(" /b "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\nIF ERRORLEVEL "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n\tIF NOT DEFINED nopauseonerror "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n\t\tPAUSE\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\tEXIT /B %ERRORLEVEL%\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" not defined ES_TMPDIR "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" /f "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"tokens=* usebackq"')]),s._v(" %%a "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("CALL D:"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("soft"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("jdks"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("jdk1.8.0_422"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("bin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("java.exe "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-cp")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"!ES_CLASSPATH!"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"org.elasticsearch.tools.launchers.TempDirectory"')]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ES_TMPDIR")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("%%a\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ES_JVM_OPTIONS")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("%ES_PATH_CONF%"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("jvm.options\n@setlocal\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" /F "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"usebackq delims="')]),s._v(" %%a "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("CALL D:"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("soft"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("jdks"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("jdk1.8.0_422"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("bin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("java.exe "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-cp")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"!ES_CLASSPATH!"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"org.elasticsearch.tools.launchers.JvmOptionsParser"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"!ES_JVM_OPTIONS!"')]),s._v(" ^"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("^"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" jvm_options_parser_failed"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("JVM_OPTIONS")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("%%a\n@endlocal "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"MAYBE_JVM_OPTIONS_PARSER_FAILED=%JVM_OPTIONS%"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("ES_JAVA_OPTS")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("%JVM_OPTIONS:"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${ES_TMPDIR}")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("ES_TMPDIR"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("%\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"%MAYBE_JVM_OPTIONS_PARSER_FAILED%"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"jvm_options_parser_failed"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v(" /b "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nD:"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("soft"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("jdks"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("jdk1.8.0_422"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("bin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("java.exe %ES_JAVA_OPTS% "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Delasticsearch")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Des.path.home")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"%ES_HOME%"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Des.path.conf")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"%ES_PATH_CONF%"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Des.distribution.flavor")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"%ES_DISTRIBUTION_FLAVOR%"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Des.distribution.type")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"%ES_DISTRIBUTION_TYPE%"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-Des.bundled_jdk")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"%ES_BUNDLED_JDK%"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-cp")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"%ES_CLASSPATH%"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"org.elasticsearch.bootstrap.Elasticsearch"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("newparams"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("\n\nendlocal\nendlocal\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v(" /b %ERRORLEVEL%\n\n")])])]),a("p",[s._v("然后，正常启动ES即可，访问： http://localhost:9200/")]),s._v(" "),a("h2",{attrs:{id:"测试sw"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#测试sw"}},[s._v("#")]),s._v(" 测试SW")]),s._v(" "),a("p",[s._v("访问：http://localhost:8080/")])])}),[],!1,null,null,null);a.default=r.exports}}]);